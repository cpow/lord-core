<h1 class="text-center">Property<%= @property.name %></h1>
<hr>

<div class="card">
  <% if @property.property_images.present? %>
    <div id="carouselControls" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner bg-dark text-center">
        <% @property.property_images.each_with_index do |image, index| %>
          <div class="carousel-item <%= 'active' if index == 0 %>">
            <%= image_tag image.image.url, class: 'd-block', style: 'margin: 0 auto;height: 400px; max-width: 100%' %>
          </div>
        <% end %>
      </div>
      <a class="carousel-control-prev" href="#carouselControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  <% else %>
    <div class="card-header">
      You have no images for this property
      <%= link_to 'Add Images', new_property_property_image_path(@property), class: 'btn btn-primary' %>
    </div>
  <% end %>

  <div class="card-body">
    <p>
      <strong>Address city:</strong>
      <%= @property.address_city %>
    </p>

    <p>
      <strong>Address line1:</strong>
      <%= @property.address_line1 %>
    </p>

    <p>
      <strong>Address state:</strong>
      <%= @property.address_state %>
    </p>

    <p>
      <strong>Address postal:</strong>
      <%= @property.address_postal %>
    </p>

    <p>
      <strong>Name:</strong>
      <%= @property.name %>
    </p>

    <p>
      <strong>Description:</strong>
      <%= @property.description %>
    </p>

    <%= link_to 'Add Unit to this property', new_property_unit_path(@property), class: 'btn btn-primary' %>
    <%= link_to 'New Residency', new_property_residency_path(@property), class: 'btn btn-primary' %>
    <%= link_to 'Add Images', new_property_property_image_path(@property), class: 'btn btn-primary' %>

    <%= link_to 'Edit', edit_property_path(@property) %> |
    <%= link_to 'Back', properties_path %>
  </div>
</div>

<br>

<% if @property.payments %>
  <div class="card">
    <h1 class="card-header">
      Payments
    </h1>
    <div class="card-body">
      <%= render 'shared/payments/table', payments: @property.payments %>
    </div>
  </div>
<% end %>

<br>

<div class="card">
  <h1 class="card-header">Units</h1>
  <div class="card-body">
    <%= render 'units/table', units: @property.units %>
  </div>
</div>

